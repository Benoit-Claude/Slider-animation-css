<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <title>TP 5 février</title>
</head>
<body>

    <ul id="navigation">
        <li>
            <a href="#slide1" accesskey="1">1</a>
        </li>
        <li>
            <a href="#slide2" accesskey="2">2</a>
        </li>
        <li>
            <a href="#slide3" accesskey="3">3</a>
        </li>
        <li>
            <a href="#slide4" accesskey="4">4</a>
        </li>
        <li>
            <a href="#slide5" accesskey="5">5</a>
        </li>
    </ul>

    <div id="bouton">
        <button id="avant">Avant</button>
        <button id="apres">Après</button>
    </div>

    <div id="slider">
        <div id="slide1" class="courant">
            <h1>slide 1</h1>
            <p>Utque aegrum corpus quassari etiam levibus solet offensis, ita animus eius angustus et tener, quicquid increpuisset, ad salutis suae dispendium existimans factum aut cogitatum, insontium caedibus fecit victoriam luctuosam.</p>
        </div>
        <div id="slide2" class="apres-1">
            <h1>slide 2</h1>
            <p>Utque aegrum corpus quassari etiam levibus solet offensis, ita animus eius angustus et tener, quicquid increpuisset, ad salutis suae dispendium existimans factum aut cogitatum, insontium caedibus fecit victoriam luctuosam.</p>
        </div>
        <div id="slide3" class="apres-2">
            <h1>slide 3</h1>
            <p>Utque aegrum corpus quassari etiam levibus solet offensis, ita animus eius angustus et tener, quicquid increpuisset, ad salutis suae dispendium existimans factum aut cogitatum, insontium caedibus fecit victoriam luctuosam.</p>
        </div>
        <div id="slide4" class="apres-3">
            <h1>slide 4</h1>
            <p>Utque aegrum corpus quassari etiam levibus solet offensis, ita animus eius angustus et tener, quicquid increpuisset, ad salutis suae dispendium existimans factum aut cogitatum, insontium caedibus fecit victoriam luctuosam.</p>
        </div>
        <div id="slide5" class="apres-4">
            <h1>slide 5</h1>
            <p>Utque aegrum corpus quassari etiam levibus solet offensis, ita animus eius angustus et tener, quicquid increpuisset, ad salutis suae dispendium existimans factum aut cogitatum, insontium caedibus fecit victoriam luctuosam.</p>
        </div>
    </div>

    <script>

       (function (){
            "use strict";

           function clickSurUnLien (evt) {
               if (evt.target.matches("a")) {
                   var lien = evt.target;
                   console.log(lien, "c'est le lien")
               }
               var selecteurDuSlide = lien.getAttribute("href");
               console.log("le sélecteur CSS pour trouver le DIV : ", selecteurDuSlide);
               document.querySelector('.courant').classList.remove('courant');
               var nouveau = document.querySelector(selecteurDuSlide);
               affiche(nouveau);
           }

                document.querySelector("#navigation").addEventListener('click', clickSurUnLien);


            function affiche (nouveau){
                nouveau.className = 'courant';
                var precedent = nouveau;
                var a = 1;
                while (precedent = precedent.previousElementSibling){
                    precedent.classList="";
                    precedent.classList.add("avant-" + a);
                    a++;
                }

                var suivant = nouveau;
                var u = 1;
                while ( suivant = suivant.nextElementSibling){
                    suivant.classList="";
                    suivant.classList.add("apres-"+u);
                    u++;
                }
            }

           function clicksursuivant (){
               var ancienneslide = document.querySelector("#slider>div.courant");
               var nouveau = ancienneslide.nextElementSibling;
               affiche(nouveau);
               clearInterval(timer);
           }

           document.querySelector("#apres").addEventListener('click', clicksursuivant);

           function clicksurprecedent (){
               var ancienneslide = document.querySelector("#slider>div.courant");
               var nouveau = ancienneslide.previousElementSibling;
               affiche(nouveau);
               clearInterval(timer);
           }

           document.querySelector("#avant").addEventListener('click', clicksurprecedent);

           var timer = setInterval(timersuivant, 2000);

           function timersuivant (){
               var ancienneslide = document.querySelector("#slider>div.courant");
               var nouveau = ancienneslide.nextElementSibling;
               affiche(nouveau);
           }


        }());



    </script>

</body>
</html>